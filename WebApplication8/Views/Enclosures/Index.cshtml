@model IEnumerable<WebApplication8.Models.Enclosures>

@{
    ViewData["Title"] = "Вольеры";
}

<div style="padding:25px;">
    <h2 style="text-align:center; margin-bottom:30px;">Список вольеров</h2>

    <div style="display:flex; flex-wrap:wrap; gap:20px; justify-content:center;">
        @foreach (var e in Model)
        {
            <div style="width:320px; background:white; border-radius:10px; box-shadow:0 2px 6px rgba(0,0,0,0.1); overflow:hidden; text-align:center;">

                @* Фото вольера или заглушка *@
                @if (!string.IsNullOrEmpty(e.ImageUrl))
                {
                    <img src="@e.ImageUrl" alt="@e.Type" style="width:100%; height:180px; object-fit:cover;" />
                }
                else
                {
                    <div style="width:100%; height:180px; background:#eee; display:flex; align-items:center; justify-content:center;">
                        <span style="color:#888;">Нет фото</span>
                    </div>
                }

                <div style="padding:15px;">
                    <h3 style="margin:10px 0; color:#2c3e50;">@(!string.IsNullOrEmpty(e.Type) ? e.Type : "Без типа")</h3>
                    <p style="font-size:14px; color:#555; margin:5px 0;"><b>Размер:</b> @(string.IsNullOrEmpty(e.Size) ? "-" : e.Size)</p>
                    <p style="font-size:14px; color:#555; margin:5px 0;"><b>Локация:</b> @(string.IsNullOrEmpty(e.Location) ? "-" : e.Location)</p>
                    <p style="font-size:14px; color:#555; margin:5px 0;"><b>Вместимость:</b> @e.Capacity</p>

                    @* Список животных в этом вольере *@
                    @if (e.Animals != null && e.Animals.Any())
                    {
                        <div style="margin-top:10px; text-align:left;">
                            <b>Животные:</b>
                            <ul style="font-size:13px; color:#333; padding-left:20px;">
                                @foreach (var a in e.Animals)
                                {
                                    <li>@a.Name (@a.Species.Species_name)</li>
                                }
                            </ul>
                        </div>
                    }
                    else
                    {
                        <p style="color:#888; font-size:13px; margin-top:10px;">Животных нет</p>
                    }

                    <div style="margin-top:15px; display:flex; justify-content:center; gap:15px;">
                        <a href="/Enclosures/Edit/@e.Enclosure_ID" style="color:#2980b9;">✏ Редактировать</a>
                        <a href="/Enclosures/Delete/@e.Enclosure_ID" style="color:#c0392b;">🗑 Удалить</a>
                    </div>
                </div>
            </div>
        }
    </div>

    <div style="text-align:center; margin-top:25px;">
        <a href="/Enclosures/Create" style="background:#27ae60; color:white; padding:12px 25px; text-decoration:none; border-radius:5px;">➕ Добавить вольер</a>
    </div>
</div>
